title: Alerts
type: panel
cards:
  - square: false
    type: grid
    cards:
      - type: tile
        entity: sensor.nws_alerts_test
        name: National Weather Service Alerts
        show_entity_picture: false
        hide_state: false
        vertical: false
        state_content:
          - state
          - last-changed
          - event_id
          - event_status
          - event_expires
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.nws_alerts_test
                above: 0
            card:
              type: markdown
              content: >-
                # NWS First Active Alert

                ---

                {% if (states('sensor.nws_alerts_test')) | int > 0 %}

                ## {{ states.sensor.nws_alerts_test.attributes.title.split(' - ')[0] }}

                {{ state_attr('sensor.nws_alerts_test','display_desc').split('\n\n-\n\n')[0] }}

                {% endif -%}
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.nws_alerts_test
                above: 1
            card:
              type: markdown
              content: >-
                # NWS Second Active Alert

                ---

                {% if (states('sensor.nws_alerts_test')) | int > 1 %}

                ## {{ states.sensor.nws_alerts_test.attributes.title.split(' - ')[1] }}

                {{ state_attr('sensor.nws_alerts_test','display_desc').split('\n\n-\n\n')[1] }}

                {% endif -%}
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.nws_alerts_test
                above: 2
            card:
              type: markdown
              content: >-
                # NWS Third Active Alert

                ---

                {% if (states('sensor.nws_alerts_test')) | int > 2 %}

                ## {{ states.sensor.nws_alerts_test.attributes.title.split(' - ')[2] }}

                {{ state_attr('sensor.nws_alerts_test','display_desc').split('\n\n-\n\n')[2] }}

                {% endif -%}
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.nws_alerts_test
                above: 3
            card:
              type: markdown
              content: >-
                # NWS Fourth Active Alert 

                ---

                {% if (states('sensor.nws_alerts_test')) | int > 3 %}

                ## {{ states.sensor.nws_alerts_test.attributes.title.split(' - ')[3] }}

                {{ state_attr('sensor.nws_alerts_test','display_desc').split('\n\n-\n\n')[3] }}

                {% endif -%}
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.nws_alerts_test
                above: 4
            card:
              type: markdown
              content: >-
                # NWS Fifth Active Alert

                ---

                {% if (states('sensor.nws_alerts_test')) | int > 4 %}

                ## {{ states.sensor.nws_alerts_test.attributes.title.split(' - ')[5] }}

                {{ state_attr('sensor.nws_alerts_test','display_desc').split('\n\n-\n\n')[5] }}

                {% endif -%}
    title: Severe Weather Alerts
    columns: 1
